local License = "oriKKD-Ztk9uD-foqMXi-eb7tP1-uobqkO-nGp7rY" --* Your License to use this script.

print(' KeyAuth Lua Example - https://github.com/mazk5145/')
local HttpService = game:GetService("HttpService")
local StarterGui = game:GetService("StarterGui")
local LuaName = "Whitelist"

StarterGui:SetCore("SendNotification", {
	Title = LuaName,
	Text = "Intializing Authentication...",
	Duration = 5
})

--* Configuration *--
local initialized = false
local sessionid = ""


--* Application Details *--
local Name = "Nrylx SB"; -- Application Name
local Ownerid = "pKNOkJ58S5"; -- Owner ID
local APPVersion = "1.0";   --* Application Version

local req = game:HttpGet('https://keyauth.win/api/1.1/?name=' .. Name .. '&ownerid=' .. Ownerid .. '&type=init&ver=' .. APPVersion)

if req == "KeyAuth_Invalid" then 
   print(" Error: Application not found.")

   StarterGui:SetCore("SendNotification", {
	   Title = LuaName,
	   Text = " Error: Application not found.",
	   Duration = 3
   })

   return false
end

local data = HttpService:JSONDecode(req)

if data.success == true then
   initialized = true
   sessionid = data.sessionid
   --print(req)
elseif (data.message == "invalidver") then
   print(" Error: Wrong application version..")

   StarterGui:SetCore("SendNotification", {
	   Title = LuaName,
	   Text = " Error: Wrong application version..",
	   Duration = 3
   })

   return false
else
   print(" Error: " .. data.message)
   return false
end

print("\n\n Licensing... \n")
local req = game:HttpGet('https://keyauth.win/api/1.1/?name=' .. Name .. '&ownerid=' .. Ownerid .. '&type=license&key=' .. License ..'&ver=' .. APPVersion .. '&sessionid=' .. sessionid)
local data = HttpService:JSONDecode(req)


if data.success == false then 
    StarterGui:SetCore("SendNotification", {
	    Title = LuaName,
	    Text = " Error: " .. data.message,
	    Duration = 5
    })

    return false
end

StarterGui:SetCore("SendNotification", {
	Title = LuaName,
	Text = " Successfully Authorized :)",
	Duration = 5
})


--* Your code here *--

local lib = loadstring(game:HttpGet('https://raw.githubusercontent.com/TheoTheEpic/AquaLib/main/AquaLib.lua'))()
local window = lib.createWindow("Nrylx", "Nrylx.art", true)
local tab1 = window.createTab("Main")
local tab2 = window.createTab("Teleports")

local player = game.Players.LocalPlayer
local rootPart = player.Character:WaitForChild("HumanoidRootPart")
local humanoid = player.Character:WaitForChild("Humanoid")
local antiArrestEnabled = false

local function onCharacterAdded(character)
    rootPart = character:WaitForChild("HumanoidRootPart")
    humanoid = character:WaitForChild("Humanoid")
end

if player.Character then
    onCharacterAdded(player.Character)
end

player.CharacterAdded:Connect(onCharacterAdded)

-- 11-20 öldükten sonra script bozulmasın diye

local function checkCuffedStatus()
    while antiArrestEnabled do
        if player:GetAttribute("Cuffed") then
            humanoid.Health = 0
        end
        wait(0.1) -- Check every 0.1 seconds
    end
end

tab2.createButton("TP To Throne Room", function()
    print("Teleported To Throne Room")
    rootPart.CFrame = CFrame.new(-1996.73389, 40.97472, -4626.75098, -1, 0, 0, 0, 1, 0, 0, 0, -1)
end)

tab2.createButton("TP To Trafalgar Sq", function()
    print("Teleported To Trafalgar Sq")
    rootPart.CFrame = CFrame.new(2970.70703, 30.5423336, -5263.28174, 0.953705311, -0, -0.300742775, 0, 1, -0, 0.300742775, 0, 0.953705311)
end)

tab2.createButton("TP In Front Of The BP", function()
    print("Teleported In Front Of The BP")
    game.Workspace:GetChildren()[1486]["Angel Lucy Statue II"].Transparency = 1
    game.Workspace:GetChildren()[1486]["Angel Lucy Statue II"].CanCollide = false
    rootPart.CFrame = CFrame.new(-1237.66797, 84.2784119, -4525.80029, 0.819155693, -0, -0.573571265, 0, 1, -0, 0.573571265, 0, 0.819155693)
end)

tab1.createToggle("Anti Arrest", false, function(value)
    print("Anti Arrest: " .. tostring(value))
    antiArrestEnabled = value

    if antiArrestEnabled then
        spawn(checkCuffedStatus) -- Start checking in a new thread
    end
end)

tab1.createButton("Kill", function()
    print("Suicided")
    humanoid.Health = 0
end)

tab1.createButton("Destroy BP Window Doors", function()
    print("Destroying BP Windows")

game.Workspace:GetChildren()[1995].WindowDoor:Destroy()
    game.Workspace:GetChildren()[2190].WindowDoor:Destroy()
    game.Workspace:GetChildren()[2187].WindowDoor:Destroy()
    game.Workspace:GetChildren()[2162].WindowDoor:Destroy()
    game.Workspace:GetChildren()[2164].WindowDoor:Destroy()
    game.Workspace:GetChildren()[2201].WindowDoor:Destroy()
    game.Workspace:GetChildren()[2203].WindowDoor:Destroy()
    game.Workspace:GetChildren()[2206].WindowDoor:Destroy()
    game.Workspace:GetChildren()[2207].WindowDoor:Destroy()
    game.Workspace:GetChildren()[1953].WindowDoor:Destroy()
    game.Workspace:GetChildren()[1937].WindowDoor:Destroy()
    game.Workspace:GetChildren()[1908].WindowDoor:Destroy()
    game.Workspace:GetChildren()[3516].WindowDoor:Destroy()
end)

tab1.createButton("Destroy BP Doors", function()
    print("Destroyed BP Doors")
    
 game.Workspace:GetChildren()[4747]:Destroy()
    game.Workspace:GetChildren()[3319]:Destroy()
    game.Workspace:GetChildren()[3458]:Destroy()
    game.Workspace:GetChildren()[2840]:Destroy()
    game.Workspace:GetChildren()[2518]:Destroy()
    game.Workspace:GetChildren()[1341]:Destroy()
    game.Workspace:GetChildren()[1340]:Destroy()
    game.Workspace:GetChildren()[1257]:Destroy()
    game.Workspace:GetChildren()[2052]:Destroy()
    game.Workspace:GetChildren()[1264]:Destroy()
    game.Workspace["BP Main Door"]:Destroy()
    game.Workspace:GetChildren()[2251]:Destroy()
    game.Workspace:GetChildren()[2197]:Destroy()
    game.Workspace:GetChildren()[2254]:Destroy()
    game.Workspace:GetChildren()[2253]:Destroy()
    game.Workspace.BPDoor:Destroy()
    game.Workspace:GetChildren()[2252]:Destroy()
    game.Workspace["BP Garden Gate"]:Destroy()
    game.Workspace:GetChildren()[1623].BPSideGate:Destroy()
    game.Workspace:GetChildren()[975].BPSideGate:Destroy()
    game.Workspace:GetChildren()[4659]:Destroy()
    game.Workspace["Front Main Gate"]:Destroy()
    game.Workspace["Side Entrance"]:Destroy()
    game.Workspace["Side Gate"]:Destroy()
    game.Workspace:GetChildren()[1827]:Destroy()
    game.Workspace:GetChildren()[1258]:Destroy()
    game.Workspace:GetChildren()[756]:Destroy()
    game.Workspace:GetChildren()[2157]:Destroy()
    game.Workspace:GetChildren()[1256]:Destroy()
    game.Workspace["Window Door"]:Destroy()
    game.Workspace:GetChildren()[1255]:Destroy()
    game.Workspace:GetChildren()[4660]:Destroy()
end)

-- Belirli bir takımda bulunan oyuncuyu bulma fonksiyonu
local function getPlayerInTeam(teamName)
    for _, player in pairs(game.Players:GetPlayers()) do
        if player.Team and player.Team.Name == teamName then
            return player
        end
    end
    return nil
end

-- Oyuncuyu hedef oyuncunun konumuna ışınlama fonksiyonu
local function teleportToPlayer(targetPlayer)
    local character = player.Character or player.CharacterAdded:Wait()
    local targetCharacter = targetPlayer.Character

    if targetCharacter and targetCharacter:FindFirstChild("HumanoidRootPart") then
        local targetCFrame = targetCharacter.HumanoidRootPart.CFrame
        character:SetPrimaryPartCFrame(targetCFrame)
    else
        print("Can not find the target player")
    end
end

-- "Monarch" takımındaki oyuncuya ışınlanma butonu
tab2.createButton("Teleport to Monarch", function()
    local teamName = "Monarch"  -- Hedef takımın ismi
    local targetPlayer = getPlayerInTeam(teamName)

    if targetPlayer then
        teleportToPlayer(targetPlayer)
        print("Teleportation succesful")
    else
        print("No monarch")
    end
end)

tab1.createButton("Destroy MET Doors", function()

game.Workspace:GetChildren()[2944]:Destroy()

game.Workspace:GetChildren()[3022]:Destroy()

game.Workspace:GetChildren()[2993]:Destroy()

game.Workspace:GetChildren()[2945]:Destroy()

game.Workspace:GetChildren()[2945]:Destroy()

game.Workspace:GetChildren()[2945]:Destroy()

end)